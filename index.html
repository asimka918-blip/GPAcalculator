<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School GPA Calculator & Marksheet Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('calculator')">üìä Calculator</button>
            <button class="nav-tab" onclick="switchTab('library')">üìö GPA Library</button>
        </div>

        <!-- Calculator Tab -->
        <div id="calculatorTab" class="tab-content active">
            <!-- Student Info Section -->
            <div id="studentInfoSection" class="section active">
                <h1>üìö GPA Calculator & Marksheet</h1>
                <p class="subtitle">Enter your information to generate marksheet</p>
                
                <form id="studentInfoForm" class="form-group">
                    <div class="form-field">
                        <label for="studentName">Student Name *</label>
                        <input type="text" id="studentName" placeholder="Enter full name" required>
                    </div>

                    <div class="form-field">
                        <label for="rollNo">Roll No *</label>
                        <input type="text" id="rollNo" placeholder="Enter roll number" required>
                    </div>

                    <div class="form-row">
                        <div class="form-field">
                            <label for="class">Class *</label>
                            <select id="class" required>
                                <option value="">Select Class</option>
                                <option value="9">Class 9</option>
                                <option value="10">Class 10</option>
                            </select>
                        </div>

                        <div class="form-field">
                            <label for="section">Section *</label>
                            <select id="section" required>
                                <option value="">Select Section</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-field">
                            <label for="term">Terminal Exam *</label>
                            <select id="term" required>
                                <option value="">Select Terminal Exam</option>
                                <option value="Mid-Term">Mid-Term</option>
                                <option value="Terminal">Terminal</option>
                            </select>
                        </div>

                        <div class="form-field">
                            <label for="dobBS">Date of Birth (BS) *</label>
                            <input type="text" id="dobBS" placeholder="e.g., 2060/05/15" pattern="\d{4}/\d{2}/\d{2}" required>
                            <span class="max-marks" style="margin-top: 5px; font-size: 0.8rem;">Format: YYYY/MM/DD (Nepali Calendar)</span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-field">
                            <label for="optI">Optional I *</label>
                            <select id="optI" required>
                                <option value="">Select Optional I</option>
                                <option value="Math">Math</option>
                                <option value="Economics">Economics</option>
                            </select>
                        </div>

                        <div class="form-field">
                            <label for="optII">Optional II *</label>
                            <select id="optII" required>
                                <option value="">Select Optional II</option>
                                <option value="Computer Science">Computer Science</option>
                                <option value="Accountancy">Accountancy</option>
                            </select>
                        </div>
                    </div>

                    <button type="submit" class="btn-primary">Continue to Marks Entry</button>
                </form>
            </div>

        <!-- Marks Entry Section -->
        <div id="marksEntrySection" class="section">
            <h2>Enter Marks</h2>
            <p class="subtitle">Enter theory and practical marks for each subject</p>

            <div id="marksContainer" class="marks-container">
                <!-- Dynamically populated -->
            </div>

            <div class="button-group">
                <button type="button" class="btn-secondary" onclick="goBack()">Back</button>
                <button type="button" class="btn-primary" onclick="calculateGPA()">Generate Marksheet</button>
            </div>
        </div>

        <!-- Marksheet Display Section -->
        <div id="marksheetSection" class="section">
            <div id="marksheetContent">
                <!-- Dynamically populated -->
            </div>

            <div class="button-group">
                <button type="button" class="btn-success" onclick="saveToLibrary()">üíæ Save to Library</button>
                <button type="button" class="btn-secondary" onclick="printMarksheet()">üñ®Ô∏è Print</button>
                <button type="button" class="btn-secondary" onclick="startOver()">Start Over</button>
            </div>
        </div>
        </div>

        <!-- Library Tab -->
        <div id="libraryTab" class="tab-content">
            <h1>üìö GPA Library</h1>
            <p class="subtitle">View all saved student GPAs</p>
            
            <div class="library-controls">
                <input type="text" id="librarySearchBox" placeholder="Search by name or roll no..." class="search-input">
                <button type="button" class="btn-secondary" onclick="clearAllLibrary()">üóëÔ∏è Clear All</button>
            </div>

            <div id="libraryContainer" class="library-container">
                <!-- Dynamically populated -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
